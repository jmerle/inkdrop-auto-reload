{"version":3,"sources":["../src/index.js"],"names":["watcher","activate","chokidar","watch","inkdrop","packages","getPackageDirPaths","ignoreInitial","reload","window","on","deactivate","close"],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEA,IAAIA,OAAO,GAAG,IAAd;;AAEO,SAASC,QAAT,GAAoB;AACzBD,EAAAA,OAAO,GAAGE,kBAASC,KAAT,CAAeC,OAAO,CAACC,QAAR,CAAiBC,kBAAjB,EAAf,EAAsD;AAC9DC,IAAAA,aAAa,EAAE;AAD+C,GAAtD,CAAV;AAIA,QAAMC,MAAM,GAAG,qBAAS,MAAM;AAC5BJ,IAAAA,OAAO,CAACK,MAAR,CAAeD,MAAf;AACD,GAFc,EAEZ,GAFY,CAAf;AAIAR,EAAAA,OAAO,CACJU,EADH,CACM,KADN,EACa,MAAMF,MAAM,EADzB,EAEGE,EAFH,CAEM,QAFN,EAEgB,MAAMF,MAAM,EAF5B,EAGGE,EAHH,CAGM,QAHN,EAGgB,MAAMF,MAAM,EAH5B;AAID;;AAEM,SAASG,UAAT,GAAsB;AAC3B,MAAIX,OAAO,KAAK,IAAhB,EAAsB;AACpBA,IAAAA,OAAO,CAACY,KAAR;AACD;AACF","sourcesContent":["import chokidar from 'chokidar';\nimport debounce from 'lodash.debounce';\n\nlet watcher = null;\n\nexport function activate() {\n  watcher = chokidar.watch(inkdrop.packages.getPackageDirPaths(), {\n    ignoreInitial: true,\n  });\n\n  const reload = debounce(() => {\n    inkdrop.window.reload();\n  }, 250);\n\n  watcher\n    .on('add', () => reload())\n    .on('change', () => reload())\n    .on('unlink', () => reload());\n}\n\nexport function deactivate() {\n  if (watcher !== null) {\n    watcher.close();\n  }\n}\n"],"file":"index.js"}